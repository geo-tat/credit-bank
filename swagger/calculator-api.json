{"openapi":"3.0.1","info":{"title":"MS Calculator","description":"Отвечает за скоринг заявки и расчетную логику","contact":{"name":"Tatevosian Georgii"},"version":"1.0.0"},"servers":[{"url":"http://localhost:2041","description":"Generated server url"}],"tags":[{"name":"Кредитный калькулятор","description":"Расчет кредита на основе входных данных"}],"paths":{"/calculator/offers":{"post":{"tags":["Кредитный калькулятор"],"summary":"Расчёт возможных условий кредита","operationId":"calculationOfPossibleLoanOffers","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanStatementRequestDto"}}},"required":true},"responses":{"400":{"description":"Ошибки при валидации","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Успешный ответ на запрос","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LoanOfferDto"}}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/calculator/calc":{"post":{"tags":["Кредитный калькулятор"],"summary":"Валидация присланных данных + скоринг данных + полный расчет параметров кредита","operationId":"calculateCreditParametres","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScoringDataDto"}}},"required":true},"responses":{"400":{"description":"Ошибки при валидации","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Успешный ответ на запрос","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CreditDto"}}}},"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"exception":{"type":"string","description":"Тип исключения"},"sourceClass":{"type":"string","description":"Класс-источник исключения"},"message":{"type":"string","description":"Сообщение об ошибке"},"timestamp":{"type":"string","description":"Метка времени ошибки","format":"date-time"}},"description":"Ошибка ответа"},"LoanStatementRequestDto":{"type":"object","properties":{"firstName":{"maxLength":30,"minLength":2,"type":"string","description":"Имя"},"lastName":{"maxLength":30,"minLength":2,"type":"string","description":"Фамилия"},"middleName":{"maxLength":30,"minLength":2,"type":"string","description":"Отчество"},"amount":{"type":"number","description":"Сумма кредита, от 30000"},"term":{"type":"integer","description":"Срок кредита, от 6 месяцев","format":"int32"},"birthdate":{"type":"string","description":"Дата рождения","format":"date"},"email":{"type":"string","description":"Email адрес"},"passportSeries":{"type":"string","description":"Серия паспорта"},"passportNumber":{"type":"string","description":"Номер паспорта"}},"description":"Заявление на подбор кредита"},"LoanOfferDto":{"type":"object","properties":{"statementId":{"type":"string","description":"Идентификатор заявки","format":"uuid"},"requestedAmount":{"type":"number","description":"Запрашиваемая сумма кредита"},"totalAmount":{"type":"number","description":"Общая сумма кредита"},"term":{"type":"integer","description":"Срок кредита в месяцах","format":"int32"},"monthlyPayment":{"type":"number","description":"Ежемесячный платеж"},"rate":{"type":"number","description":"Процентная ставка"},"isInsuranceEnabled":{"type":"boolean","description":"Наличие страховки"},"isSalaryClient":{"type":"boolean","description":"Является зарплатным клиентом"}},"description":"Информация о возможном условии кредита"},"EmploymentDto":{"required":["employerINN","employmentStatus","position","salary","workExperienceCurrent","workExperienceTotal"],"type":"object","properties":{"employmentStatus":{"type":"string","description":"Статус занятости заявителя","enum":["EMPLOYED","UNEMPLOYED","SELF_EMPLOYED","EMPLOYED","SELF_EMPLOYED","UNEMPLOYED"]},"employerINN":{"type":"string","description":"ИНН работодателя","example":"7707083893"},"salary":{"type":"number","description":"Ежемесячная зарплата заявителя","example":5000},"position":{"type":"string","description":"Должность заявителя","enum":["TOP_MANAGER","MIDDLE_MANAGER","WORKER","OTHER","DIRECTOR","ENGINEER","TOP_MANAGER,\nMIDDLE_MANAGER,\nWORKER,\nENGINEER,\nDIRECTOR,\nOTHER"]},"workExperienceTotal":{"minimum":0,"type":"integer","description":"Общий опыт работы в месяцах","format":"int32"},"workExperienceCurrent":{"minimum":0,"type":"integer","description":"Текущий опыт работы в месяцах","format":"int32"}},"description":"Информация о занятости заявителя на кредит"},"ScoringDataDto":{"required":["accountNumber","dependentAmount","employment","gender","isInsuranceEnabled","isSalaryClient","maritalStatus","passportIssueBranch","passportIssueDate"],"type":"object","properties":{"amount":{"type":"number","description":"Сумма кредита, от 30000"},"term":{"type":"integer","description":"Срок кредита, от 6 месяцев","format":"int32"},"firstName":{"maxLength":30,"minLength":2,"type":"string","description":"Имя"},"lastName":{"maxLength":30,"minLength":2,"type":"string","description":"Фамилия"},"middleName":{"maxLength":30,"minLength":2,"type":"string","description":"Отчество"},"gender":{"type":"string","description":"Пол","enum":["MALE","FEMALE","MALE","FEMALE"]},"birthdate":{"type":"string","description":"Дата рождения","format":"date"},"passportSeries":{"type":"string","description":"Серия паспорта"},"passportNumber":{"type":"string","description":"Номер паспорта"},"passportIssueDate":{"type":"string","description":"Дата выдачи паспорта","format":"date"},"passportIssueBranch":{"type":"string","description":"Кем выдан паспорт"},"maritalStatus":{"type":"string","description":"Семейное положение","enum":["SINGLE","MARRIED","WIDOWED","DIVORCED","SINGLE","MARRIED","WIDOWED","DIVORCED"]},"dependentAmount":{"minimum":0,"type":"integer","description":"Количество иждивенцев","format":"int32"},"employment":{"$ref":"#/components/schemas/EmploymentDto"},"accountNumber":{"type":"string","description":"Номер счета"},"isInsuranceEnabled":{"type":"boolean","description":"Наличие страховки"},"isSalaryClient":{"type":"boolean","description":"Является зарплатным клиентом банка"}},"description":"Заявление на полный расчет кредита"},"CreditDto":{"type":"object","properties":{"amount":{"type":"number","description":"Customize Toolbar..."},"term":{"type":"integer","description":"Срок кредита в месяцах","format":"int32"},"monthlyPayment":{"type":"number","description":"Ежемесячный платеж"},"rate":{"type":"number","description":"Кредитная ставка"},"psk":{"type":"number","description":"Полная стоимость кредита"},"isInsuranceEnabled":{"type":"boolean","description":"Наличие страховки"},"isSalaryClient":{"type":"boolean","description":"Является зарплатным клиентом"},"paymentSchedule":{"type":"array","description":"График платежей","items":{"$ref":"#/components/schemas/PaymentScheduleElementDto"}}},"description":"Информация о расчете кредита"},"PaymentScheduleElementDto":{"type":"object","properties":{"number":{"type":"integer","description":"Номер платежа","format":"int32"},"date":{"type":"string","description":"Дата платежа","format":"date"},"totalPayment":{"type":"number","description":"Общая сумма платежа"},"interestPayment":{"type":"number","description":"Сумма платежа по процентам"},"debtPayment":{"type":"number","description":"Сумма платежа по основному долгу"},"remainingDebt":{"type":"number","description":"Оставшийся долг"}},"description":"Информация о графике платежей"}}}}