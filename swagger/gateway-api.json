{"openapi":"3.0.1","info":{"title":"MS API-Gateway","description":"API Gateway действует как единая точка входа для всех клиентских запросов. Он получает запросы от клиентов и маршрутизирует их к соответствующим микросервисам.","contact":{"name":"Tatevosian Georgii"},"version":"1.0.0"},"servers":[{"url":"http://localhost:2045","description":"Generated server url"}],"tags":[{"name":"API Шлюз","description":"API для объединения запросов в один API"}],"paths":{"/statement":{"post":{"tags":["API Шлюз"],"description":"Расчёт возможных условий кредита. Request - LoanStatementRequestDto, response - List<LoanOfferDto>","operationId":"createLoanOffers","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanStatementRequestDto"}}},"required":true},"responses":{"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Успешный ответ на запрос","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LoanOfferDto"}}}}},"400":{"description":"Ошибки при валидации","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/statement/registration/{statementId}":{"post":{"tags":["API Шлюз"],"description":"Завершение регистрации + полный подсчёт кредита.Request - FinishRegistrationRequestDto, param - String, response void.","operationId":"finishRegistration","parameters":[{"name":"statementId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinishRegistrationRequestDto"}}},"required":true},"responses":{"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Успешный ответ на запрос"},"400":{"description":"Ошибки при валидации","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/statement/offer":{"post":{"tags":["API Шлюз"],"description":"Выбор одного из предложений. Request LoanOfferDto, response void","operationId":"selectLoanOffer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoanOfferDto"}}},"required":true},"responses":{"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Успешный ответ на запрос"},"400":{"description":"Ошибки при валидации","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/deal/document/{statementId}/sign":{"post":{"tags":["API Шлюз"],"description":"Согласи или отказ предложения банка о кредите","operationId":"signDocument","parameters":[{"name":"statementId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"isSigned","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Успешный ответ на запрос"}}}},"/deal/document/{statementId}/send":{"post":{"tags":["API Шлюз"],"description":"Формирование пакета документов для клиента","operationId":"sendDocument","parameters":[{"name":"statementId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Успешный ответ на запрос"}}}},"/deal/document/{statementId}/code":{"post":{"tags":["API Шлюз"],"description":"Верификация проверочного кода","operationId":"verifyCode","parameters":[{"name":"statementId","in":"path","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"code","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal server error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Успешный ответ на запрос"}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"exception":{"type":"string","description":"Тип исключения"},"sourceClass":{"type":"string","description":"Класс-источник исключения"},"message":{"type":"string","description":"Сообщение об ошибке"},"timestamp":{"type":"string","description":"Метка времени ошибки","format":"date-time"}},"description":"Ошибка ответа"},"LoanStatementRequestDto":{"type":"object","properties":{"firstName":{"maxLength":30,"minLength":2,"type":"string","description":"Имя"},"lastName":{"maxLength":30,"minLength":2,"type":"string","description":"Фамилия"},"middleName":{"maxLength":30,"minLength":2,"type":"string","description":"Отчество"},"amount":{"type":"number","description":"Сумма кредита, от 30000"},"term":{"type":"integer","description":"Срок кредита, от 6 месяцев","format":"int32"},"birthdate":{"type":"string","description":"Дата рождения","format":"date"},"email":{"type":"string","description":"Email адрес"},"passportSeries":{"type":"string","description":"Серия паспорта"},"passportNumber":{"type":"string","description":"Номер паспорта"}},"description":"Заявление на подбор кредита"},"LoanOfferDto":{"type":"object","properties":{"statementId":{"type":"string","description":"Идентификатор заявки","format":"uuid"},"requestedAmount":{"type":"number","description":"Запрашиваемая сумма кредита"},"totalAmount":{"type":"number","description":"Общая сумма кредита"},"term":{"type":"integer","description":"Срок кредита в месяцах","format":"int32"},"monthlyPayment":{"type":"number","description":"Ежемесячный платеж"},"rate":{"type":"number","description":"Процентная ставка"},"isInsuranceEnabled":{"type":"boolean","description":"Наличие страховки"},"isSalaryClient":{"type":"boolean","description":"Является зарплатным клиентом"}},"description":"Информация о возможном условии кредита"},"EmploymentDto":{"type":"object","properties":{"employmentStatus":{"type":"string","description":"Статус занятости заявителя","enum":["EMPLOYED","UNEMPLOYED","SELF_EMPLOYED","BUSINESS_OWNER","EMPLOYED","SELF_EMPLOYED","UNEMPLOYED","BUSINESS_OWNER"]},"employerINN":{"type":"string","description":"ИНН работодателя","example":"7707083893"},"salary":{"type":"number","description":"Ежемесячная зарплата заявителя","example":5000},"position":{"type":"string","description":"Должность заявителя","enum":["TOP_MANAGER","MID_MANAGER","WORKER","OWNER","TOP_MANAGER,\nMID_MANAGER,\nWORKER,\nOWNER"]},"workExperienceTotal":{"minimum":0,"type":"integer","description":"Общий опыт работы в месяцах","format":"int32"},"workExperienceCurrent":{"minimum":0,"type":"integer","description":"Текущий опыт работы в месяцах","format":"int32"}},"description":"Информация о занятости заявителя на кредит"},"FinishRegistrationRequestDto":{"type":"object","properties":{"gender":{"type":"string","description":"Пол","enum":["MALE","FEMALE","NON_BINARY","MALE","FEMALE"]},"maritalStatus":{"type":"string","description":"Семейное положение","enum":["SINGLE","MARRIED","WIDOW_WIDOVER","DIVORCED","SINGLE","MARRIED","WIDOW_WIDOWER","DIVORCED"]},"dependentAmount":{"type":"integer","description":"Количество иждивенцев","format":"int32"},"passportIssueDate":{"type":"string","description":"Дата выдачи паспорта","format":"date"},"passportIssueBranch":{"type":"string","description":"Кем выдан паспорт"},"employmentDto":{"$ref":"#/components/schemas/EmploymentDto"},"accountNumber":{"type":"string","description":"Номер счета"}},"description":"Заявление на окончательное оформление кредита"}}}}